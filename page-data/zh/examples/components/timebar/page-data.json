{"componentChunkName":"component---node-modules-antv-gatsby-theme-antv-1-0-0-beta-9-antv-gatsby-theme-antv-site-templates-example-tsx","path":"/zh/examples/components/timebar","result":{"data":{"site":{"siteMetadata":{"title":"Graphin","githubUrl":"https://github.com/antvis/graphin","examples":[{"slug":"render","icon":null,"title":{"zh":"数据渲染","en":"render"}},{"slug":"layout","icon":null,"title":{"zh":"内置布局","en":"layout"}},{"slug":"shape","icon":null,"title":{"zh":"节点与边","en":"shape"}},{"slug":"components","icon":null,"title":{"zh":"分析组件","en":"components"}},{"slug":"advanced","icon":null,"title":{"zh":"高级功能","en":"advanced"}},{"slug":"case","icon":null,"title":{"zh":"分析案例","en":"case"}}],"playground":{"container":null,"playgroundDidMount":null,"playgroundWillUnmount":null,"dependencies":null,"htmlCodeTemplate":null}},"pathPrefix":""},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/zh/examples/render/simple"},"frontmatter":{"title":"数据无布局信息","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"render/simple/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/layout/base"},"frontmatter":{"title":"基础布局","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"layout/base/index.zh.md"}}},{"node":{"fields":{"slug":"/en/examples/components/toolbar"},"frontmatter":{"title":"Toolbar","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"components/toolbar/index.en.md"}}},{"node":{"fields":{"slug":"/zh/examples/components/toolbar"},"frontmatter":{"title":"Toolbar 工具栏","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"components/toolbar/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/case/identification"},"frontmatter":{"title":"身份识别","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"case/identification/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/case/graph-knowledge"},"frontmatter":{"title":"知识图谱","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"case/graph-knowledge/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/case/anti-fraud"},"frontmatter":{"title":"反欺诈","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"case/anti-fraud/index.zh.md"}}},{"node":{"fields":{"slug":"/en/examples/advanced/node-combo"},"frontmatter":{"title":"Node Combo","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"advanced/node-combo/index.en.md"}}},{"node":{"fields":{"slug":"/zh/examples/advanced/node-expand"},"frontmatter":{"title":"节点扩散","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"advanced/node-expand/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/advanced/node-combo"},"frontmatter":{"title":"节点分组","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"advanced/node-combo/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/advanced/layout-switching"},"frontmatter":{"title":"布局切换","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"advanced/layout-switching/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/advanced/find-connections"},"frontmatter":{"title":"关系发现","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"advanced/find-connections/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/shape/node"},"frontmatter":{"title":"内置节点","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"shape/node/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/render/save"},"frontmatter":{"title":"数据有布局信息","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"render/save/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/layout/force"},"frontmatter":{"title":"力导布局","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"layout/force/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/components/legend"},"frontmatter":{"title":"Legend 图例","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"components/legend/index.zh.md"}}},{"node":{"fields":{"slug":"/en/examples/components/legend"},"frontmatter":{"title":"Legend","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"components/legend/index.en.md"}}},{"node":{"fields":{"slug":"/en/examples/components/contextmenu"},"frontmatter":{"title":"ContextMenu","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"components/contextmenu/index.en.md"}}},{"node":{"fields":{"slug":"/zh/examples/components/contextmenu"},"frontmatter":{"title":"ContextMenu 右键菜单","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"components/contextmenu/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/shape/edge"},"frontmatter":{"title":"多边","order":2,"icon":null},"parent":{"__typename":"File","relativePath":"shape/edge/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/render/expand"},"frontmatter":{"title":"增量数据渲染","order":2,"icon":null},"parent":{"__typename":"File","relativePath":"render/expand/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/layout/sublayout"},"frontmatter":{"title":"子图布局","order":2,"icon":null},"parent":{"__typename":"File","relativePath":"layout/sublayout/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/components/timebar"},"frontmatter":{"title":"Timebar 时间轴","order":2,"icon":null},"parent":{"__typename":"File","relativePath":"components/timebar/index.zh.md"}}},{"node":{"fields":{"slug":"/en/examples/components/timebar"},"frontmatter":{"title":"Timebar","order":2,"icon":null},"parent":{"__typename":"File","relativePath":"components/timebar/index.en.md"}}}]}},"pageContext":{"exampleSections":{"examples":[{"relativePath":"components/timebar/demo/Simple.jsx","absolutePath":"/Users/pomelo/Desktop/github/Graphin/packages/graphin-site/examples/components/timebar/demo/Simple.jsx","order":0,"filename":"Simple.jsx","title":"简易 Timebar ","screenshot":"https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*nBhpT5HbGOAAAAAAAAAAAABkARQnAQ","source":"/* eslint-disable no-undef */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Graphin, { Utils } from '@antv/graphin';\nimport '@antv/graphin/dist/index.css'; // 引入Graphin CSS\nimport { Toolbar } from '@antv/graphin-components';\nimport '@antv/graphin-components/dist/index.css'; // Graphin 组件 CSS\n\nconst styles = {\n  root: {\n    background: '#fafafa',\n    display: 'flex',\n    position: 'absolute',\n    bottom: '0px',\n    left: '68px',\n    right: '28px',\n  },\n  itemContainer: {\n    height: '100px',\n    flex: 1,\n    background: 'rgb(250, 250, 250)',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    margin: 0,\n    padding: 0,\n  },\n  itemBar: {\n    height: '100%',\n    margin: '0px 42%',\n    background: '#ddd',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-end',\n    cursor: 'pointer',\n  },\n  itemTime: {\n    position: 'relative',\n    textAlign: 'center',\n    borderTop: '1px solid #ddd',\n  },\n};\nconst Timebar = props => {\n  const {\n    data = [\n      { time: '2020-3-21', nodeCount: 10 },\n      { time: '2020-3-22', nodeCount: 14 },\n      { time: '2020-3-23', nodeCount: 20 },\n      { time: '2020-3-24', nodeCount: 30 },\n    ],\n    onChange = () => {},\n    style = {},\n  } = props;\n  const maxHeight = data.reduce((acc, curr) => {\n    return Math.max(acc, curr.nodeCount);\n  }, 0);\n\n  const handleClick = timeStamp => {\n    onChange(timeStamp);\n  };\n\n  return (\n    <div>\n      <ul style={{ ...styles.root, style }}>\n        {data.map(c => {\n          return (\n            <li\n              key={c.time}\n              style={styles.itemContainer}\n              onClick={() => {\n                handleClick(c);\n              }}\n            >\n              <div style={styles.itemBar}>\n                <div style={{ height: `${(c.nodeCount / maxHeight) * 100}%`, background: '#873bf4' }}></div>\n              </div>\n              <div style={styles.itemTime}>{c.time}</div>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nconst App = () => {\n  const [data, setData] = React.useState(\n    Utils.mock(5)\n      .circle()\n      .graphin(),\n  );\n\n  const handleChange = time => {\n    const mockData = Utils.mock(time.nodeCount)\n      .random()\n      .graphin();\n    setData(mockData);\n  };\n  const timebar = [\n    { time: '2020-3-21', nodeCount: 2 },\n    { time: '2020-3-22', nodeCount: 10 },\n    { time: '2020-3-23', nodeCount: 50 },\n    { time: '2020-3-24', nodeCount: 30 },\n    { time: '2020-3-25', nodeCount: 10 },\n  ];\n  return (\n    <div>\n      <Graphin data={data} layout={{ name: 'force' }}>\n        <Toolbar />\n        <Timebar onChange={handleChange} data={timebar} />\n      </Graphin>\n    </div>\n  );\n};\nconst rootElement = document.getElementById('container');\nReactDOM.render(<App />, rootElement);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/graphin\", \"@antv/graphin/dist/index.css\", \"@antv/graphin-components\", \"@antv/graphin-components/dist/index.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/graphin\"), require(\"@antv/graphin/dist/index.css\"), require(\"@antv/graphin-components\"), require(\"@antv/graphin-components/dist/index.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.graphin, global.index, global.graphinComponents, global.index);\n    global.Simple = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _graphin, _index, _graphinComponents, _index2) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _graphin = _interopRequireWildcard(_graphin);\n\n  function _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  // Graphin 组件 CSS\n  var styles = {\n    root: {\n      background: '#fafafa',\n      display: 'flex',\n      position: 'absolute',\n      bottom: '0px',\n      left: '68px',\n      right: '28px'\n    },\n    itemContainer: {\n      height: '100px',\n      flex: 1,\n      background: 'rgb(250, 250, 250)',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      margin: 0,\n      padding: 0\n    },\n    itemBar: {\n      height: '100%',\n      margin: '0px 42%',\n      background: '#ddd',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'flex-end',\n      cursor: 'pointer'\n    },\n    itemTime: {\n      position: 'relative',\n      textAlign: 'center',\n      borderTop: '1px solid #ddd'\n    }\n  };\n\n  var Timebar = function Timebar(props) {\n    var _props$data = props.data,\n        data = _props$data === void 0 ? [{\n      time: '2020-3-21',\n      nodeCount: 10\n    }, {\n      time: '2020-3-22',\n      nodeCount: 14\n    }, {\n      time: '2020-3-23',\n      nodeCount: 20\n    }, {\n      time: '2020-3-24',\n      nodeCount: 30\n    }] : _props$data,\n        _props$onChange = props.onChange,\n        onChange = _props$onChange === void 0 ? function () {} : _props$onChange,\n        _props$style = props.style,\n        style = _props$style === void 0 ? {} : _props$style;\n    var maxHeight = data.reduce(function (acc, curr) {\n      return Math.max(acc, curr.nodeCount);\n    }, 0);\n\n    var handleClick = function handleClick(timeStamp) {\n      onChange(timeStamp);\n    };\n\n    return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(\"ul\", {\n      style: { ...styles.root,\n        style: style\n      }\n    }, data.map(function (c) {\n      return /*#__PURE__*/_react.default.createElement(\"li\", {\n        key: c.time,\n        style: styles.itemContainer,\n        onClick: function onClick() {\n          handleClick(c);\n        }\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: styles.itemBar\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: {\n          height: \"\".concat(c.nodeCount / maxHeight * 100, \"%\"),\n          background: '#873bf4'\n        }\n      })), /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: styles.itemTime\n      }, c.time));\n    })));\n  };\n\n  var App = function App() {\n    var _React$useState = _react.default.useState(_graphin.Utils.mock(5).circle().graphin()),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        data = _React$useState2[0],\n        setData = _React$useState2[1];\n\n    var handleChange = function handleChange(time) {\n      var mockData = _graphin.Utils.mock(time.nodeCount).random().graphin();\n\n      setData(mockData);\n    };\n\n    var timebar = [{\n      time: '2020-3-21',\n      nodeCount: 2\n    }, {\n      time: '2020-3-22',\n      nodeCount: 10\n    }, {\n      time: '2020-3-23',\n      nodeCount: 50\n    }, {\n      time: '2020-3-24',\n      nodeCount: 30\n    }, {\n      time: '2020-3-25',\n      nodeCount: 10\n    }];\n    return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_graphin.default, {\n      data: data,\n      layout: {\n        name: 'force'\n      }\n    }, /*#__PURE__*/_react.default.createElement(_graphinComponents.Toolbar, null), /*#__PURE__*/_react.default.createElement(Timebar, {\n      onChange: handleChange,\n      data: timebar\n    })));\n  };\n\n  var rootElement = document.getElementById('container');\n\n  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(App, null), rootElement);\n});"}]},"description":"<p>在时序分析中，时间轴必不可少，Graphin 的设计规范里针对 Timebar 时间轴的设计还在进行中，我们这里通过提供一个 demo，来说明基本实现思路</p>\n<ul>\n<li>demo-1 : 简单自实现 Timebar</li>\n<li>demo-2 : 官方内置 Timebar，正在开发中...</li>\n</ul>"}},"staticQueryHashes":["1015175297","3000541721","3000541721","653731124"]}